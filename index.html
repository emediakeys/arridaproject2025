<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ACHSTS Home</title>
  <!-- Load Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Load Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <!--Add icon to header -->
  <link rel="icon" type="image/png" sizes="32x32" href="icon.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="icon.jpg">
  <link rel="apple-touch-icon" href="icon.jpg">

  <!-- SweetAlert2 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  
  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore-compat.js"></script>

  <style>
    /* Custom Configuration for Theme, Font, and Hero */
    :root {
      --primary-color: #3b82f6;
      /* Blue 500 */
      --secondary-color: #10b981;
      /* Emerald 500 */
    }

    body {
      font-family: 'Inter', sans-serif;
      scroll-behavior: smooth;
    }

    /* Custom scroll-padding for smooth scrolling to sections below fixed header */
    html {
      scroll-padding-top: 6rem;
    }

    /* Hero Section Styling (Background Placeholder) */
    .hero-section {
      /* Placeholder image URL is used for the image src */
      background-image: url('images/DSC_3652.JPG');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      /* Parallax effect */
      height: 100vh;
    }

    .overlay {
      background-color: rgba(0, 0, 0, 0.6);
    }

    /* Mobile Menu Visibility Control */
    .menu {
      transition: transform 0.3s ease-in-out;
    }

    .menu.hidden-on-mobile {
      transform: translateX(100%);
    }

    /* Lightbox for Gallery and Course Modal Base Style */
    .modal-base {
      display: none;
      position: fixed;
      z-index: 1000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0, 0, 0, 0.7);
      justify-content: center;
      align-items: center;
      /* Ensure modal is centered vertically and horizontally */
      padding: 1rem;
    }

    /* Specific Gallery Lightbox styles */
    .lightbox-content {
      margin: auto;
      display: block;
      width: 90%;
      max-width: 900px;
    }

    .lightbox-image {
      width: 100%;
      height: auto;
      max-height: 90vh;
      object-fit: contain;
    }

    /* Modal Close Button Style */
    .modal-close {
      position: absolute;
      top: 15px;
      right: 35px;
      color: #f1f1f1;
      font-size: 40px;
      font-weight: bold;
      transition: 0.3s;
      cursor: pointer;
      z-index: 1001;
    }

    .modal-close:hover,
    .modal-close:focus {
      color: #bbb;
      text-decoration: none;
      cursor: pointer;
    }
    
    /* Utility to truncate text in card preview */
    .line-clamp-3 {
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    /* Social Feed Styles */
    .like-anim {
      animation: pop 0.3s ease-in-out;
    }
    @keyframes pop {
      0% { transform: scale(1); }
      50% { transform: scale(1.3); }
      100% { transform: scale(1); }
    }
    .comment-section {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease-out;
    }
    .comment-section.open {
        max-height: 300px; /* Adjust based on needs or use JS for auto height */
        overflow-y: auto;
    }
  </style>
</head>

<body class="text-gray-800 antialiased bg-gray-50">

  <!-- Header / Navbar Section -->
  <nav class="navbar fixed top-0 left-0 w-full bg-white shadow-lg z-50 transition duration-300 ease-in-out">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <!-- Logo -->
        <div class="flex-shrink-0">
          <a href="#hero-section" class="text-2xl font-extrabold text-blue-600 hover:text-blue-800 transition">
            <i class="fas fa-mosque mr-2"></i><span class="text-gray-800">ACHSTS</span>
          </a>
        </div>

        <!-- Desktop Menu -->
        <ul class="hidden lg:flex space-x-6 items-center">
          <li><a href="#hero" class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">Home</a></li>
          <li><a href="#about-section"
              class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">About</a></li>
          <li><a href="#gallery"
              class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">Gallery</a></li>
          <li><a href="#admission"
              class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">Admission</a></li>

          <!-- D R O P D O W N L O G I N F I X -->
          <li class="relative">
  <details class="group">
    <summary
      class="cursor-pointer list-none text-gray-700 hover:text-blue-600 font-medium transition duration-150">
      Login
    </summary>

    <div
      class="absolute left-1/2 -translate-x-1/2 mt-3 w-48 bg-white rounded-lg shadow-xl 
              transition duration-300 z-50 border border-gray-100">

      <a href="student_dashboard.html"
        class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-t-lg transition">
        <i class="fas fa-user-graduate w-5 mr-2"></i> Student Login
      </a>

      <a href="admin_portal.html"
        class="block px-4 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-b-lg transition">
        <i class="fas fa-user-shield w-5 mr-2"></i> Admin Login
      </a>
    </div>
  </details>
</li>

          <!-- E N D D R O P D O W N -->

          <li><a href="#news" class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">News</a>
          </li>
          <li><a href="#team" class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">Teachers</a>
          </li>
          <li><a href="#contact-section"
              class="text-gray-700 hover:text-blue-600 font-medium transition duration-150">Contact</a></li>
          <li>
            <a href="https://script.google.com/macros/s/AKfycbzUl_oyu8xzvjBuvPS1Xp9SLOi7Z112Y4fB74xOav8d7Ad2Pv03Lp0ISNWoarlwOKbmmg/exec"
              class="py-2 px-4 rounded-lg bg-emerald-500 text-white hover:bg-emerald-600 transition duration-150 font-semibold shadow-md">
              Exam Portal
            </a>
          </li>
        </ul>

        <!-- Mobile Menu Button (Theme Toggle removed) -->
        <div class="flex lg:hidden items-center space-x-3">
          <button class="text-2xl text-gray-800 hover:text-blue-600" id="menu-open-button">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu (Off-Canvas) -->
    <ul id="mobile-menu"
      class="menu hidden-on-mobile fixed top-0 right-0 w-64 h-full bg-white shadow-xl p-6 lg:hidden flex flex-col space-y-4 z-50">
      <button class="text-2xl text-gray-800 self-end mb-4 hover:text-blue-600" id="menu-close-button">
        <i class="fas fa-times"></i>
      </button>
      <li><a href="#"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">Home</a>
      </li>
      <li><a href="#about-section"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">About</a>
      </li>
      <li><a href="#gallery"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">Gallery</a>
      </li>
      <li><a href="#admission"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">Admission</a>
      </li>

      <!-- Mobile Login Links (Expanded) -->
      <li class="pt-2">
        <p class="text-gray-500 text-sm font-semibold mb-1">Login</p>
        <a href="student_dashboard.html"
          class="block px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition">
          <i class="fas fa-user-graduate w-5 mr-2"></i> Student Login
        </a>
        <a href="admin_portal.html"
          class="block px-3 py-2 text-gray-700 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition">
          <i class="fas fa-user-shield w-5 mr-2"></i> Admin Login
        </a>
      </li>
      <!-- End Mobile Login -->

      <li><a href="#news"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">News</a>
      </li>
      <li><a href="#team"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">Teachers</a>
      </li>
      <li><a href="#contact-section"
          class="text-gray-700 hover:text-blue-600 font-medium text-lg border-b pb-1 transition duration-150">Contact</a>
      </li>
      <li>
        <a href="https://script.google.com/macros/s/AKfycbzUl_oyu8xzvjBuvPS1Xp9SLOi7Z112Y4fB74xOav8d7Ad2Pv03Lp0ISNWoarlwOKbmmg/exec"
          class="block w-full text-center py-2 px-4 rounded-lg bg-emerald-500 text-white hover:bg-emerald-600 transition duration-150 font-semibold shadow-md mt-4">
          Exam Portal
        </a>
      </li>
    </ul>
  </nav>

  <main>
    <!-- hero section -->
    <section class="hero-section flex items-center justify-center text-center" id="hero">
      <div class="overlay w-full h-full flex flex-col items-center justify-center p-6 sm:p-12">
        <h1 class="headline text-4xl sm:text-5xl lg:text-7xl font-extrabold text-white mb-4">
          Welcome to <span class="text-blue-300">ACHSTS</span>
        </h1>
        <h1 class="text-xl sm:text-3xl lg:text-4xl font-light text-white mb-6 max-w-4xl">ARRIDA COLLEGE OF HEALTH
          SCIENCE TECHNOLOGY SULEJA</h1>
        <p class="tagline text-lg sm:text-xl text-gray-200 mb-10">
          Your Health is our Concern.
        </p>
        <a href="form.html"
          class="bg-yellow-500 text-gray-900 font-bold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-400 transition duration-300 transform hover:scale-105">
          Apply Now
        </a>
      </div>
    </section>

    <!-- about section -->
    <section class="about-section py-16 md:py-24" id="about-section">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
          <!-- Image Wrapper -->
          <div class="relative w-full overflow-hidden rounded-xl shadow-2xl">
            <!-- Placeholder image URL is used for the image src -->
            <img src="images/DSC_3728.JPG" alt="Abdulmalik Usaini, Director"
              class="w-full h-auto object-cover transition duration-500 hover:scale-105">
            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
          </div>

          <!-- About Details -->
          <div class="about-details">
            <p class="text-sm font-semibold uppercase text-blue-600 mb-2">About Our Institution</p>
            <h1 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-2">ABDULMALIK USAINI</h1>
            <i class="block text-xl font-medium text-emerald-600 mb-4">Director</i>

            <!-- Social Links -->
            <div class="flex space-x-4 mb-8">
              <a href="https://www.tiktok.com/@hanifessaiy?_t=ZM-8wxL6yx5MJC&_r=1"
                class="text-2xl text-gray-500 hover:text-pink-600 transition"><i class="fa-brands fa-tiktok"></i></a>
              <a href="https://www.instagram.com/hanif_essaiy?igsh=d3ZoN3FmMGloNGRx&utm_source=qr"
                class="text-2xl text-gray-500 hover:text-purple-600 transition"><i
                  class="fa-brands fa-instagram"></i></a>
              <a href="https://wa.me/2347040686186" class="text-2xl text-gray-500 hover:text-green-500 transition"><i
                  class="fa-brands fa-whatsapp"></i></a>
            </div>

            <p class="about-text text-gray-600 mb-4 leading-relaxed">
              The ARRIDA School of Health Sciences Technology is a leading institution committed to training skilled,
              compassionate, and competent healthcare professionals. Our mission is to provide high-quality education
              that
              combines modern classroom learning with hands-on practical experience.
            </p>
            <p class="about-text text-gray-600 mb-8 leading-relaxed">
              At ARRIDA School of Health Sciences Technology, students learn in a supportive environment equipped with
              essential facilities, experienced instructors, and a curriculum designed to meet today’s healthcare
              standards. We focus on building professionals who are prepared to serve in hospitals, laboratories,
              community health centers, research institutions, and public health organizations.
            </p>

            <!-- Buttons -->
            <div class="flex space-x-4">
              <a href="images/Covr1.jgp" download="Ar-rida Flyer"
                class="py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-150">
                Download Flier
              </a>
              <a href="#contact-section"
                class="py-3 px-6 bg-gray-200 text-gray-800 font-semibold rounded-lg shadow-md hover:bg-gray-300 transition duration-150">
                Contact Us
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- services section (Admission) -->
    <section class="services-section bg-gray-100 py-16 md:py-24" id="admission">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h3 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">Courses We Offer</h3>
        <p class="text-gray-600 mb-12 max-w-3xl mx-auto">Click on any course card to view detailed information, duration,
          certification level, and key features.</p>

        <!-- CONTAINER FOR DYNAMICALLY GENERATED COURSE CARDS -->
        <div id="courses-container" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Course cards will be injected here by JavaScript -->
        </div>

        <div class="mt-12">
          <a href="form.html"
            class="py-3 px-8 bg-blue-600 text-white font-bold rounded-full shadow-lg hover:bg-blue-700 transition duration-300">
            Apply Now!
          </a>
        </div>
      </div>
    </section>

    <section class="gallery-section py-16 md:py-24" id="gallery">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h3 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-12">Gallery</h3>
        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4">
          <!-- Placeholder images used for gallery items -->
          <div
            class="gallery-item relative overflow-hidden rounded-xl shadow-lg cursor-pointer transform hover:scale-[1.02] transition duration-300 group">
            <img src="images/DSC_3654.JPG" alt="Gallery 1" class="gallery-img w-full h-48 object-cover">
            <div
              class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
              <i class="fas fa-expand text-white text-2xl"></i>
            </div>
          </div>
          <div
            class="gallery-item relative overflow-hidden rounded-xl shadow-lg cursor-pointer transform hover:scale-[1.02] transition duration-300 group">
            <img src="images/DSC_3656.JPG" alt="Gallery 2" class="gallery-img w-full h-48 object-cover">
            <div
              class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
              <i class="fas fa-expand text-white text-2xl"></i>
            </div>
          </div>
          <div
            class="gallery-item relative overflow-hidden rounded-xl shadow-lg cursor-pointer transform hover:scale-[1.02] transition duration-300 group">
            <img src="images/DSC_3672.JPG" alt="Gallery 3" class="gallery-img w-full h-48 object-cover">
            <div
              class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
              <i class="fas fa-expand text-white text-2xl"></i>
            </div>
          </div>
          <div
            class="gallery-item relative overflow-hidden rounded-xl shadow-lg cursor-pointer transform hover:scale-[1.02] transition duration-300 group">
            <img src="images/DSC_3720.JPG" alt="Gallery 4" class="gallery-img w-full h-48 object-cover">
            <div
              class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
              <i class="fas fa-expand text-white text-2xl"></i>
            </div>
          </div>
          <!-- Added a few more for better layout -->
          <div
            class="gallery-item relative overflow-hidden rounded-xl shadow-lg cursor-pointer transform hover:scale-[1.02] transition duration-300 group">
            <img src="images/DSC_3751.JPG" alt="Gallery 5" class="gallery-img w-full h-48 object-cover">
            <div
              class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
              <i class="fas fa-expand text-white text-2xl"></i>
            </div>
          </div>
          <div
            class="gallery-item relative overflow-hidden rounded-xl shadow-lg cursor-pointer transform hover:scale-[1.02] transition duration-300 group">
            <img src="images/DSC_3757.JPG" alt="Gallery 6" class="gallery-img w-full h-48 object-cover">
            <div
              class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition duration-300 flex items-center justify-center">
              <i class="fas fa-expand text-white text-2xl"></i>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- News Section (Social Feed Viewer) -->
    <section class="news-section bg-gray-100 py-16 md:py-24" id="news">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
            <h3 class="text-3xl sm:text-4xl font-bold text-gray-900">Campus News Feed</h3>
            <p class="text-gray-600 mt-2">Latest updates, announcements, and events from ACHSTS.</p>
        </div>

        <!-- Note: Posting UI removed from homepage as requested. Posting is done via Admin/Student portals. -->

        <!-- Dynamic News Feed Container -->
        <div id="news-feed" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
            <!-- Loading State -->
            <div class="col-span-full text-center py-10">
                <i class="fas fa-spinner fa-spin text-4xl text-blue-500"></i>
                <p class="text-gray-500 mt-2">Loading news feed...</p>
            </div>
        </div>

      </div>
    </section>

    <!-- My team section -->
    <section class="my-team py-16 md:py-24" id="team">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h3 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-12">Our Teachers & Staff</h3>
        <!-- CONTAINER FOR DYNAMICALLY GENERATED TEAM CARDS -->
        <div id="team-container" class="grid grid-cols-2 md:grid-cols-4 gap-8">
          <!-- Team cards will be injected here by JavaScript -->
        </div>
      </div>
    </section>

    <!-- Contact section -->
    <section class="contact-section bg-blue-600 py-16 md:py-24" id="contact-section">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <h3 class="text-3xl sm:text-4xl font-bold text-white mb-12 text-center">Contact Us</h3>
        <div class="bg-white rounded-xl shadow-2xl overflow-hidden grid grid-cols-1 lg:grid-cols-2">

          <!-- Left: Contact Form -->
          <form id="contact-form" class="p-8 md:p-12 space-y-6">
            <h2 class="text-2xl font-bold text-gray-900 mb-4">Send a Message</h2>
            <input type="text" name="name" placeholder="Full Name" required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
            <input type="email" name="email" placeholder="Email Address" required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition">
            <textarea name="message" rows="5" placeholder="Your Message" required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition"></textarea>
            <button type="submit"
              class="w-full py-3 px-6 bg-emerald-500 text-white font-semibold rounded-lg shadow-md hover:bg-emerald-600 transition duration-150 transform hover:scale-[1.01]">
              Send Message
            </button>
          </form>

          <!-- Right: Contact Info -->
          <div class="bg-blue-700 p-8 md:p-12 text-white flex flex-col justify-center">
            <h2 class="text-2xl font-bold mb-6">Contact Information</h2>
            <ul class="space-y-4 text-gray-200">
              <li class="flex items-start">
                <i class="fa-solid fa-envelope mt-1 mr-3 text-emerald-300"></i>
                <span>arridainfo@gmail.com</span>
              </li>
              <li class="flex items-start">
                <i class="fa-solid fa-phone mt-1 mr-3 text-emerald-300"></i>
                <span>08038578902, 08028267789</span>
              </li>
              <li class="flex items-start">
                <i class="fa-solid fa-location-dot mt-1 mr-3 text-emerald-300"></i>
                <span>Bakin Iku, Kaduna Road, Suleja, Nigeria.</span>
              </li>
              <li class="flex items-start">
                <i class="fa-solid fa-calendar-days mt-1 mr-3 text-emerald-300"></i>
                <span>Monday–Friday, 7:00 AM – 6:00 PM</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <footer class="site-footer bg-gray-900 text-white py-6">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm text-gray-400">
        &copy; 2025 ARRIDA. | Powered by SCTI ICT Team.
      </div>
    </footer>
  </main>

  <!-- Gallery Lightbox Modal -->
  <div id="lightbox" class="modal-base">
    <button class="modal-close">&times;</button>
    <div class="lightbox-content">
      <img id="lightbox-image" class="lightbox-image" src="" alt="Gallery Preview">
    </div>
  </div>

  <!-- Course Details Modal -->
  <div id="course-modal" class="modal-base">
    <div class="bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto relative p-8 m-4">
      <button id="course-modal-close" class="modal-close !text-gray-800 !right-4 !top-4 !text-3xl">&times;</button>
      <div class="text-center mb-6">
        <i id="modal-icon" class="text-6xl mb-4"></i>
        <h2 id="modal-title" class="text-3xl font-bold text-gray-900 mb-2">Course Title</h2>
        <p id="modal-level" class="text-lg font-semibold text-emerald-600"></p>
      </div>

      <p id="modal-description" class="text-gray-700 mb-6 text-center leading-relaxed border-b pb-4"></p>

      <!-- Key Details Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-8">
        <div class="bg-blue-50 p-4 rounded-lg shadow-inner">
          <p class="text-sm font-medium uppercase text-blue-600 mb-1 flex items-center">
            <i class="fas fa-clock mr-2"></i> Course Duration
          </p>
          <p id="modal-duration" class="text-xl font-bold text-gray-900"></p>
        </div>
        <div class="bg-green-50 p-4 rounded-lg shadow-inner">
          <p class="text-sm font-medium uppercase text-green-600 mb-1 flex items-center">
            <i class="fas fa-certificate mr-2"></i> Certification Level
          </p>
          <p id="modal-level-full" class="text-xl font-bold text-gray-900"></p>
        </div>
      </div>

      <!-- Key Features List -->
      <div class="mb-8">
        <h3 class="text-xl font-bold text-gray-900 mb-4 border-b pb-2">Key Program Features</h3>
        <ul id="modal-features" class="grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-3">
          <!-- Features injected here -->
        </ul>
      </div>

      <!-- CTA Button -->
      <a id="modal-cta-link" href="#"
        class="block w-full text-center py-3 px-6 bg-blue-600 text-white font-semibold rounded-lg shadow-lg hover:bg-blue-700 transition duration-150">
        Enroll Now
      </a>
    </div>
  </div>


  <script>
    // --- Firebase Initialization ---
    const firebaseConfig = JSON.parse(__firebase_config);
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
    const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

    // Global User State
    let currentUser = null;

    document.addEventListener('DOMContentLoaded', () => {
      // Initialize existing UI functions
      initUI();

      // Initialize Firebase Auth
      initAuth();
    });

    // --- Authentication Logic ---
    async function initAuth() {
        // Since this is a public homepage, we sign in anonymously for READ/WRITE access (for comments/likes)
        // Real users (Admins/Students) would likely already have a token or be handled 
        // via the login pages. For this demo, we check if a user is already authenticated.
        
        auth.onAuthStateChanged(async (user) => {
            if (user && !user.isAnonymous) {
                // User is logged in as Admin or Student
                currentUser = user;
            } else {
                // Guest or Anonymous
                currentUser = user; // keep track of anonymous user
                // Ensure anonymous auth for reading/writing database if not already signed in
                if (!user) {
                     if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await auth.signInWithCustomToken(__initial_auth_token);
                    } else {
                        await auth.signInAnonymously();
                    }
                }
            }
            // Load News Feed regardless of auth state
            loadNewsFeed();
        });
    }

    // --- News Feed Logic (Firestore) ---
    function loadNewsFeed() {
        const feedContainer = document.getElementById('news-feed');
        
        // Listen to 'news_posts' collection (Public Data)
        db.collection('artifacts').doc(appId).collection('public').doc('data').collection('news_posts')
          .orderBy('timestamp', 'desc')
          .limit(20)
          .onSnapshot((snapshot) => {
            if(snapshot.empty) {
                feedContainer.innerHTML = '<div class="col-span-full text-center text-gray-500">No news yet. Check back later!</div>';
                return;
            }

            let html = '';
            snapshot.forEach(doc => {
                const post = doc.data();
                const postId = doc.id;
                const timeString = post.timestamp ? new Date(post.timestamp.toDate()).toLocaleDateString() : 'Just now';
                
                // Comments HTML Generation
                let commentsHtml = '';
                if(post.comments && post.comments.length > 0) {
                    post.comments.forEach(comment => {
                        commentsHtml += `
                            <div class="bg-gray-50 p-2 rounded-lg mb-2 text-sm">
                                <span class="font-bold text-gray-800">${comment.user}:</span>
                                <span class="text-gray-600">${comment.text}</span>
                            </div>
                        `;
                    });
                } else {
                    commentsHtml = '<p class="text-xs text-gray-400 italic">No comments yet. Be the first!</p>';
                }

                // Check if current user liked this
                // Note: currentUser might be anonymous, but they still have a UID
                const isLiked = post.likedBy && currentUser && post.likedBy.includes(currentUser.uid);
                const likeColor = isLiked ? 'text-red-500' : 'text-gray-500';

                html += `
                <div class="bg-white rounded-xl shadow-lg overflow-hidden flex flex-col hover:shadow-xl transition duration-300">
                    ${post.imageUrl ? `<img src="${post.imageUrl}" alt="News Image" class="news-img w-full h-48 object-cover">` : ''}
                    <div class="p-6 flex flex-col flex-grow">
                        <!-- Header -->
                        <div class="flex items-center mb-3">
                            <div class="w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold text-xs mr-2">
                                ${post.authorInitials || 'A'}
                            </div>
                            <div>
                                <h4 class="text-sm font-bold text-gray-900">${post.authorName || 'Admin'}</h4>
                                <p class="text-xs text-gray-500">${timeString}</p>
                            </div>
                        </div>

                        ${post.title ? `<h4 class="news-title text-xl font-bold text-gray-900 mb-2">${post.title}</h4>` : ''}
                        
                        <p class="news-body text-gray-600 flex-grow mb-4 whitespace-pre-line">
                            ${post.content}
                        </p>

                        <!-- Actions -->
                        <div class="news-actions flex justify-between items-center border-t border-gray-100 pt-4 mt-auto">
                             <div class="flex space-x-4">
                                <button onclick="handleLike('${postId}')" class="like-btn ${likeColor} hover:text-red-500 transition flex items-center text-sm font-medium">
                                    <i class="fa-solid fa-heart mr-1 ${isLiked ? 'like-anim' : ''}"></i> <span>${post.likes || 0}</span>
                                </button>
                                <button onclick="toggleComments('${postId}')" class="text-gray-500 hover:text-blue-600 transition flex items-center text-sm font-medium">
                                    <i class="fa-solid fa-comment mr-1"></i> <span>${post.comments ? post.comments.length : 0}</span>
                                </button>
                             </div>
                             
                             <button onclick="handleShare('${post.title || 'ACHSTS News'}', '${post.content}')" class="text-gray-500 hover:text-blue-800 transition flex items-center text-sm font-medium">
                                <i class="fa-solid fa-share"></i>
                             </button>
                        </div>

                        <!-- Comment Section (Hidden by default) -->
                        <div id="comments-${postId}" class="comment-section mt-4 pt-4 border-t border-gray-100 hidden">
                             <div class="comments-list mb-3 max-h-32 overflow-y-auto">
                                ${commentsHtml}
                             </div>
                             <div class="flex">
                                <input type="text" id="input-${postId}" placeholder="Write a comment..." class="flex-1 text-sm border border-gray-300 rounded-l-lg px-3 py-1 focus:outline-none">
                                <button onclick="postComment('${postId}')" class="bg-blue-600 text-white px-3 py-1 rounded-r-lg text-sm hover:bg-blue-700">Send</button>
                             </div>
                        </div>
                    </div>
                </div>
                `;
            });
            feedContainer.innerHTML = html;
          }, (error) => {
              console.error("Error getting news:", error);
              feedContainer.innerHTML = '<div class="col-span-full text-center text-red-500">Error loading news.</div>';
          });
    }

    // --- Interaction Functions ---

    // 1. Like Logic (Updated: Allows Guest/Anonymous Likes)
    window.handleLike = async (postId) => {
        // Ensure user is at least anonymously signed in (should be handled by initAuth, but safe check)
        if(!currentUser) {
             // If completely null, try to wait or sign in
             await auth.signInAnonymously();
             // Current user state updates in onAuthStateChanged
        }

        const postRef = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('news_posts').doc(postId);
        
        try {
            await db.runTransaction(async (transaction) => {
                const doc = await transaction.get(postRef);
                if (!doc.exists) throw "Document does not exist!";

                const data = doc.data();
                const likedBy = data.likedBy || [];
                // Use current user UID (whether anonymous or logged in)
                const uid = auth.currentUser.uid;

                if (likedBy.includes(uid)) {
                    // Unlike
                    const newLikes = (data.likes || 1) - 1;
                    const newLikedBy = likedBy.filter(id => id !== uid);
                    transaction.update(postRef, { likes: newLikes, likedBy: newLikedBy });
                } else {
                    // Like
                    const newLikes = (data.likes || 0) + 1;
                    likedBy.push(uid);
                    transaction.update(postRef, { likes: newLikes, likedBy: likedBy });
                }
            });
        } catch (e) {
            console.error("Transaction failed: ", e);
        }
    };

    // 2. Toggle Comments
    window.toggleComments = (postId) => {
        const el = document.getElementById(`comments-${postId}`);
        if(el.classList.contains('hidden')) {
            el.classList.remove('hidden');
            setTimeout(() => el.classList.add('open'), 10);
        } else {
            el.classList.remove('open');
            setTimeout(() => el.classList.add('hidden'), 300);
        }
    };

    // 3. Post Comment (Updated: Allows Guest/Anonymous Comments)
    window.postComment = async (postId) => {
        // Ensure user is at least anonymously signed in
        if(!currentUser) {
            await auth.signInAnonymously();
        }

        const input = document.getElementById(`input-${postId}`);
        const text = input.value.trim();
        if(!text) return;

        const postRef = db.collection('artifacts').doc(appId).collection('public').doc('data').collection('news_posts').doc(postId);

        // Determine Name: Use real name if logged in, otherwise "Guest Visitor"
        const displayName = (currentUser && !currentUser.isAnonymous) ? currentUser.displayName : 'Guest Visitor';

        const newComment = {
            user: displayName || 'Student',
            userId: auth.currentUser.uid,
            text: text,
            timestamp: new Date().toISOString()
        };

        try {
            await postRef.update({
                comments: firebase.firestore.FieldValue.arrayUnion(newComment)
            });
            input.value = ''; // Clear input
        } catch (e) {
            console.error(e);
            Swal.fire('Error', 'Could not post comment', 'error');
        }
    };

    // 4. Share Logic
    window.handleShare = async (title, text) => {
        if (navigator.share) {
            try {
                await navigator.share({
                    title: title,
                    text: text.substring(0, 100) + '...',
                    url: window.location.href
                });
            } catch (err) {
                console.log('Share canceled');
            }
        } else {
            // Fallback
            Swal.fire({
                title: 'Share',
                text: 'Link copied to clipboard!',
                icon: 'success',
                timer: 1500,
                showConfirmButton: false
            });
        }
    };

    // --- Existing UI Logic (Courses, Navbar, etc) ---
    function initUI() {
        const navbar = document.querySelector('.navbar');
        const openMenuBtn = document.getElementById('menu-open-button');
        const closeMenuBtn = document.getElementById('menu-close-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const navLinks = document.querySelectorAll('.nav-link, #mobile-menu a');
        const galleryItems = document.querySelectorAll('.gallery-item');
        const lightbox = document.getElementById('lightbox');
        const lightboxImage = document.getElementById('lightbox-image');
        const lightboxCloseBtn = document.querySelector('#lightbox .modal-close');
        
        // Course Modal Elements
        const courseModal = document.getElementById('course-modal');
        const modalCloseBtn = document.getElementById('course-modal-close');
        const modalIcon = document.getElementById('modal-icon');
        const modalTitle = document.getElementById('modal-title');
        const modalLevel = document.getElementById('modal-level');
        const modalDescription = document.getElementById('modal-description');
        const modalDuration = document.getElementById('modal-duration');
        const modalLevelFull = document.getElementById('modal-level-full');
        const modalFeatures = document.getElementById('modal-features');
        const modalCtaLink = document.getElementById('modal-cta-link');
        
        const teamContainer = document.getElementById('team-container');

        // Data Arrays (Courses & Teachers)
        const courses = [
            { icon: 'fas fa-shield-virus', title: 'Community Health', description: 'A comprehensive program focused on primary healthcare delivery and disease control in rural and urban settings.', color: 'text-blue-600', duration: '2 Years', level: 'National Diploma (ND)', features: ['Primary Healthcare', 'Immunization & Vaccinations', 'Disease Surveillance', 'Health Education'], ctaLink: 'form.html?course=CommunityHealth' },
            { icon: 'fas fa-vial-circle-check', title: 'Medical Laboratory Science', description: 'Training for clinical laboratory testing, diagnostics, and biomedical research techniques critical for patient care.', color: 'text-emerald-600', duration: '3 Years', level: 'Higher National Diploma (HND)', features: ['Clinical Chemistry', 'Hematology', 'Microbiology', 'Histopathology Techniques'], ctaLink: 'form.html?course=MedicalLabScience' },
            { icon: 'fas fa-leaf', title: 'Environmental Health', description: 'Focusing on environmental factors that affect human health and developing effective public health policies and sanitation.', color: 'text-red-500', duration: '2 Years', level: 'National Diploma (ND)', features: ['Water Quality & Sanitation', 'Food Safety', 'Vector Control', 'Occupational Health'], ctaLink: 'form.html?course=EnvironmentalHealth' },
            { icon: 'fas fa-chart-line', title: 'Public Health', description: 'Focusing on the health of communities and populations through education, policy, and large-scale disease prevention programs.', color: 'text-blue-500', duration: '18 Months', level: 'Professional Certificate', features: ['Epidemiology', 'Health Policy', 'Biostatistics', 'Global Health Issues'], ctaLink: 'form.html?course=PublicHealth' }
        ];

        const teachers = [
            { name: 'Aminu Ibrahim', role: 'Lecturer', initials: 'AI', bgColor: '3b82f6', borderColor: 'blue-100', roleColor: 'blue-600', email: 'lecaminu.arrida@gmail.com', whatsapp: '2348011112222' },
            { name: 'Suleiman Shaibu', role: 'Registrar', initials: 'SS', bgColor: '10b981', borderColor: 'emerald-100', roleColor: 'emerald-600', email: 'regsuleiman.arrida@gmail.com', whatsapp: '2348033334444' },
            { name: 'Vivian Odiali', role: 'Provost', initials: 'VO', bgColor: 'f59e0b', borderColor: 'yellow-100', roleColor: 'yellow-600', email: 'provodiali.arrida@gmail.com', whatsapp: '2348055556666' },
            { name: 'Nura Nasiru', role: 'HOD Public Health', initials: 'NN', bgColor: 'ef4444', borderColor: 'red-100', roleColor: 'red-600', email: 'hodnura.arrida@gmail.com', whatsapp: '2348077778888' },
            { name: 'Demmile Stephanie', role: 'Lecturer', initials: 'DS', bgColor: '3b82f6', borderColor: 'blue-100', roleColor: 'blue-600', email: 'lecdammile.arrida@gmail.com', whatsapp: '2348011112222' }
        ];

        // Render Functions
        function renderCourses() {
            const container = document.getElementById('courses-container');
            if (!container) return;
            let html = '';
            courses.forEach((course, index) => {
            html += `
                <div class="course-card bg-white p-6 rounded-xl shadow-lg border-t-4 ${course.color.replace('text', 'border')} flex flex-col hover:shadow-2xl transition duration-300 transform hover:-translate-y-1 cursor-pointer" data-course-index="${index}">
                <div class="flex-grow">
                    <i class="${course.icon} text-5xl ${course.color} mb-4"></i>
                    <h4 class="text-2xl font-bold text-gray-900 mb-2">${course.title}</h4>
                    <p class="text-gray-500 mb-4 line-clamp-3">${course.description}</p>
                </div>
                <p class="text-sm font-semibold text-blue-600 mt-4 flex items-center justify-end">View Details & Apply <i class="fas fa-arrow-right ml-2 text-sm"></i></p>
                </div>
            `;
            });
            container.innerHTML = html;
            document.querySelectorAll('.course-card').forEach(card => {
                card.addEventListener('click', () => {
                    const index = card.getAttribute('data-course-index');
                    showCourseDetails(index);
                });
            });
        }

        function renderTeachers() {
            if (!teamContainer) return;
            let html = '';
            teachers.forEach(teacher => {
                html += `
                    <div class="bg-white rounded-xl shadow-lg p-6 text-center transform hover:shadow-xl transition duration-300">
                        <img src="https://placehold.co/100x100/${teacher.bgColor}/ffffff?text=${teacher.initials}" 
                            alt="${teacher.name}"
                            class="w-24 h-24 rounded-full mx-auto object-cover mb-4 border-4 border-${teacher.borderColor} transition duration-300 hover:scale-105"
                            onerror="this.onerror=null; this.src='https://placehold.co/100x100/${teacher.bgColor}/ffffff?text=${teacher.initials}';">
                        <h4 class="font-semibold text-gray-900 text-lg">${teacher.name}</h4>
                        <p class="text-sm text-${teacher.roleColor} mb-3">${teacher.role}</p>
                        <div class="flex justify-center space-x-3">
                            <a href="mailto:${teacher.email}" class="text-gray-400 hover:text-indigo-500 transition"><i class="fas fa-envelope text-xl"></i></a>
                            <a href="https://wa.me/${teacher.whatsapp}" class="text-gray-400 hover:text-green-500 transition" target="_blank"><i class="fa-brands fa-whatsapp text-xl"></i></a>
                        </div>
                    </div>
                `;
            });
            teamContainer.innerHTML = html;
        }

        function showCourseDetails(index) {
            const course = courses[index];
            if (!course) return;
            modalIcon.className = `${course.icon} text-6xl mb-4 ${course.color}`;
            modalTitle.textContent = course.title;
            modalLevel.textContent = course.level;
            modalDescription.textContent = course.description;
            modalDuration.textContent = course.duration;
            modalLevelFull.textContent = course.level;
            modalCtaLink.href = course.ctaLink;
            modalCtaLink.textContent = `Apply Now for ${course.title}`;
            modalFeatures.innerHTML = course.features.map(feature => 
            `<li class="flex items-start text-gray-700"><i class="fas fa-check-circle text-emerald-500 mr-2 mt-1 flex-shrink-0"></i> <span>${feature}</span></li>`
            ).join('');
            courseModal.style.display = 'flex';
        }

        // Init Renders
        renderCourses();
        renderTeachers();

        // UI Event Listeners
        modalCloseBtn.addEventListener('click', () => courseModal.style.display = 'none');
        courseModal.addEventListener('click', (e) => { if (e.target === courseModal) courseModal.style.display = 'none'; });

        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) navbar.classList.add('shadow-xl', 'bg-opacity-95');
            else navbar.classList.remove('shadow-xl', 'bg-opacity-95');
        });

        navLinks.forEach(link => {
            link.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href && href.startsWith('#')) {
                e.preventDefault();
                const target = document.querySelector(href);
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth' });
                    if (mobileMenu.classList.contains('active')) toggleMobileMenu();
                }
            }
            });
        });

        function toggleMobileMenu() {
            mobileMenu.classList.toggle('hidden-on-mobile');
            mobileMenu.classList.toggle('active');
        }
        openMenuBtn.addEventListener('click', toggleMobileMenu);
        closeMenuBtn.addEventListener('click', toggleMobileMenu);

        galleryItems.forEach(item => {
            item.addEventListener('click', () => {
            lightboxImage.src = item.querySelector('.gallery-img').src;
            lightboxImage.alt = item.querySelector('.gallery-img').alt;
            lightbox.style.display = 'flex';
            });
        });
        lightboxCloseBtn.addEventListener('click', () => lightbox.style.display = 'none');
        lightbox.addEventListener('click', (e) => { if (e.target === lightbox) lightbox.style.display = 'none'; });
    }
  </script>

</body>

</html>
